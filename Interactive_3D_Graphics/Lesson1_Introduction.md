

# Lesson 1: Introduction 

笔记下载地址
>
https://www.udacity.com/wiki/cs291

## Core Ideas

### 刷新速率 refresh rate
一秒钟可以显示多少张图片。
60 Hertz. 1秒钟显示60张图片。
60赫兹是帧率的上限值。

电影的帧率一般是 24HZ     

 - 电影的摄像头可以捕捉到 运动模糊。所以24帧看起来也很流畅。
 - 电影不需要进行 交互，不需要更快的运行速度。

 欧洲电视机的刷新频率是50HZ

### 每秒帧数 frames per second[FPS]
视屏游戏的最小帧率一般是 30帧每秒。有些甚至是60帧每秒。




### 视锥体 view frustum - 人眼是如何看到物体的。

视杆细胞（rod cell）在中央凹处无分布，主要分布在视网膜的周边部分：它对暗光敏感，故光敏感度较高，但分辨能力差，在弱光下只能看到物体粗略的轮廓，并且视物无色觉。

视锥细胞（cone cell）用于负责白天的光亮感觉，有色觉，暗光敏感性差，但颜色敏感度高。我们用来聚焦的地方，用来看清楚字写的是什么。

关键概念：**来自一个特定的方向的光，只会被一个特定的感光细胞接收到。**

we see images correct side up, not upside-down

### 针孔相机成像原理

针孔相机 捕获的图像是上下颠倒的。

**截锥【Frustum】** 指被砍掉顶部的金子塔。

### 3D Scene

3D 场景渲染：

01- 需要定义一个世界  
02- 以不同的方式定义不同的对象，每个对象 通过3D几何进行描述。
每个物体也有材质属性，用于描述光线如何与物体交互。
03- 定义一个光源。
04- 为一个场景定义一个相机

假设显示器是 1920×1200，每秒60帧的帧速率。

每一秒需要处理多少个像素？  
60×1920×1200 = 138，240，000
每秒要处理1.38E 个像素

## Reversing the Process

不通过 光源发射光子来模拟，而是通过 截锥面 发射光子，看最后哪些光子能够返回到灯？



### 图形硬件是如何能够交互的

图形硬件通常被称为 GPU【graphics processing unit】，
一个GPU采用的渲染过程被称为 光栅化或扫描转换

### 图形管线

流水线的思想是分别对待每一个对象。

1. 一个应用程序简单的发送一个对象给GPU，【什么对象，3D三角形。每个三角形被定义为它的三个点的完整位置】
2. 一个应用程序把立方体转换成几个三角形。【一个球体则是一堆三角形】

**流水线**
流水线第一步：决定哪些三角形被发送到流水线里。
流水线第二步：这些三角形被相机修改，以用于任何建模变换。模拟转换计算每个三角形在屏幕上的位置。

每个对象只处理一次，

流水线处理对象 的速度，取决于 最慢的那个流程。
这个称为 瓶颈(bottleneck),我们看最慢的阶段所需的时间，就知道流水线生产的速度。


## 两种渲染方法

### 画家算法 painter's algorithm

当物体之间有遮挡的时候：
先画排在离摄像机最远的物体，再画近的物体。这是一种非常笨的方法。
计算机用这种算法有一定的道理，因为它是一个画画的有点愚蠢的方法。

第一次建模 ，建的是 茶壶模型。使用了 三次贝塞尔曲线 描述了这些。

缺陷：如何画的物体，叠加部分，互相有重叠，就无能为力了。

### Z-缓冲算法 Z-Buffer

GPU通常用来解决可见性问题的算法。

Z代表的是距离摄像机的距离。
buffer 描述的是图像的数据数组。
在数组里。除了存储描述每个像素的颜色数据，我们还存储了一个Z轴距离。
z-depth 往往是小数，范围从0到1，意思是深度距离。

这个值越小，说明距离相机越近。

Z-Buffer 算法在几十年前刚出来的时候，被认为是荒谬的昂贵算法，因为必须添加一大堆Z深度的数据到内存里，需要添加兆字节的数据到内存里。

当内存成本降下来以后，现在它是栅格化三角形的主要途径。

假设画一个物体所需要的步骤：
读取Z-buffer花费1个CPU周期。
比较读取出来的值和一个物体的Z值花费1个CPU周期。
写入Z-buffer花费1个CPU周期。
用新的深度值替换掉旧的深度值。
用新的颜色替换掉旧的颜色。

所以画一个场景时，为了节省计算量，优先去画距离摄像机近的物体，在画距离远的。
这样画远的物体的像素点时，只需要2个CPU周期，而不需要3个。

所以要有一个数组，大致把所有物体的Z值进行排序。

## WebGL and Thrss.js

WebGL 是一种应用程序接口，简称API。

WebGL 基于 OpenGL ES ，OpenGL ES 基于 OpenGL。

WebGL <<<<< OpenGL ES[移动端API] <<<<< OpenGL[台式计算机API]

其他竞争对手： 
DirectX,Direct3D
通常用于 Xbox游戏机 和 windowsPC 上的游戏。

Thrss.js,一个免费的开发库。

## Lesson 1: Problem Set 问题答疑

### 第1道题目 
假如电脑显示器固定的刷新频率是 60FPS，然后假设GPU计算一张图片的时间需要1/30秒多一点。
那么实际图片的刷新频率是多少？

那么在60FPS里面，每计算一张图，要占用3个时间格子。
这样实际的图片的更新就是60/3 = 20FPS。

### 第2道题目 
下面哪个图形 不能 用画家算法来进行渲染出来。

选则坐下角那个嵌套的3个环，这个环被 叫做 博罗梅安环。

### 第3道题目 
图像程序员，通常通过 MS PER FRAME 来描述更新帧率。
用毫秒描述不同的算法将更加精确。

30FPS = 33.3 MS PER FRAME  [每张图的计算时间的预算就是33.3ms]
60FPS = 16.7 MS PER FRAME  [每张图的计算时间的预算就是16.7ms]

题目：  
25FPS FOR 100 FRAMES
50FPS FOR 100 FRAMES
25FPS FOR 100 FRAMES
10FPS FOR 100 FRAMES

WHAT IS THE AVERAGE SPEED? __ FPS

answer:20

### 第4道题目 

给4个图，让你对渲染速度进行排序。

### 第5道题目

考虑自己是一个萤火虫，在一个黑暗的房间里面。然后萤火虫带了一个人眼。
问人眼观察到的是一个什么样的世界？

1 物体清晰，但远距离的物体就逐渐模糊。
2 物体清晰，但都是阴影笼罩下的灰色。
3 物体清晰，但只有本身的颜色没有阴影。
4 物体清晰，但看不到影子。

选1和4.

### 第6道题目

眼睛所能观察到的维度：4维？
2维指2D，还有2维指旋转。差的1维是深度。
我们的眼睛无法观察出深度来。
世界里，描述一个物体的维度是5维。3D坐标占3个维度，2个旋转占2个维度。

### 第7道题目

给了代码。找出代码中的3个错误
题目网址：
>
https://www.udacity.com/course/viewer#!/c-cs291/l-91160556/e-92310137/m-92310136

然后修正后的代码，看
Lesson1_Introduction_code.js

点击运行后，可以看出画的一个立方体。


## Interview:3D Modelling and Printing



